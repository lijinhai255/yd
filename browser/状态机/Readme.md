状态机
上一个输入决定下一个状态
